<app-navigation [toLogin]="true"></app-navigation>

<form class="register" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
  <div>
    <mat-form-field appearance="outline">
      <input
        required
        matInput
        placeholder="Username"
        formControlName="username"
      />
      <mat-icon matSuffix>person</mat-icon>
      <mat-hint class="warning">
        <span
          [hidden]="
            !submitted || !registerForm.controls['username'].errors?.required
          "
        >
          Username is required.
        </span>
        <span
          class="warning"
          [hidden]="
            !submitted || !registerForm.controls['username'].errors?.isEmail
          "
        >
          Not accepting username in email form.
        </span>
      </mat-hint>
    </mat-form-field>
  </div>

  <div>
    <mat-form-field appearance="outline">
      <input
        email
        required
        type="email"
        matInput
        placeholder="Email"
        formControlName="email"
      />
      <mat-icon matSuffix>email</mat-icon>
      <mat-hint class="warning">
        <span
          [hidden]="
            !submitted || !registerForm.controls['email'].errors?.required
          "
        >
          Email is required.
        </span>
        <span
          [hidden]="!submitted || !registerForm.controls['email'].errors?.email"
        >
          Valid email only.
        </span>
      </mat-hint>
    </mat-form-field>
  </div>

  <div>
    <mat-form-field appearance="outline">
      <input
        matInput
        required
        placeholder="Password"
        formControlName="password"
        type="password"
      />
      <mat-icon matSuffix>lock_open</mat-icon>
      <mat-hint
        class="warning"
        [hidden]="
          !submitted || !registerForm.controls['password'].errors?.required
        "
      >
        Password is required.
      </mat-hint>
    </mat-form-field>
  </div>

  <div>
    <mat-form-field appearance="outline">
      <input
        required
        matInput
        placeholder="Confirm password"
        formControlName="confirm"
        type="password"
      />
      <mat-icon matSuffix>lock</mat-icon>
      <mat-hint
        class="warning"
        [hidden]="!submitted || !registerForm.hasError('diff')"
      >
        Confirm password not match.
      </mat-hint>
    </mat-form-field>
  </div>

  <div class="submit">
    <button color="primary" mat-raised-button type="submit">Register</button>
  </div>
</form>
